<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title></title>
  <!-- api gateway generated sdk -->
  <script src="./apiGateway-js-sdk/lib/axios/dist/axios.standalone.js"></script>
  <script src="./apiGateway-js-sdk/lib/CryptoJS/rollups/hmac-sha256.js"></script>
  <script src="./apiGateway-js-sdk/lib/CryptoJS/rollups/sha256.js"></script>
  <script src="./apiGateway-js-sdk/lib/CryptoJS/components/hmac.js"></script>
  <script src="./apiGateway-js-sdk/lib/CryptoJS/components/enc-base64.js"></script>
  <script src="./apiGateway-js-sdk/lib/url-template/url-template.js"></script>
  <script src="./apiGateway-js-sdk/lib/apiGatewayCore/sigV4Client.js"></script>
  <script src="./apiGateway-js-sdk/lib/apiGatewayCore/apiGatewayClient.js"></script>
  <script src="./apiGateway-js-sdk/lib/apiGatewayCore/simpleHttpClient.js"></script>
  <script src="./apiGateway-js-sdk/lib/apiGatewayCore/utils.js"></script>
  <script type="text/javascript" src="apiGateway-js-sdk/apigClient.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script type="text/javascript">
    function formsubmit() {
      // debugger;
      // var sdk = apigClientFactory.newClient({});
      // console.log(document.getElementById('myFile').files[0])
      // sdk.uploadBucketKeyPut([], document.getElementById('myFile').files[0])

      var file = document.getElementById('myFile').files[0];

      // var settings = {
      //   "url": "https://gydmz6h5j4.execute-api.us-east-1.amazonaws.com/beta/upload/mysmartphotoalbum/" + file['name'],
      //   "method": "PUT",
      //   "timeout": 0,
      //   "headers": {
      //     "Content-Type": "image/jpeg"
      //   },
      //   "data": file
      // };
      // $.ajax(settings).done(function(response) {
      //   console.log(response);
      // });
      var myHeaders = new Headers();
myHeaders.append("Content-Type", "image/jpeg");

var requestOptions = {
  method: 'PUT',
  headers: myHeaders,
  body: file,
  redirect: 'follow'
};
console.log(file['name'] + typeof(file['name']))
fetch("https://gydmz6h5j4.execute-api.us-east-1.amazonaws.com/beta/upload/mysmartphotoalbum/" + file['name'], requestOptions)
  .then(response => response.text())
  .then(result => console.log(result))
  .catch(error => console.log('error', error));
    }
  </script>
</head>

<body>
  <form onsubmit="formsubmit()">
    <input type="file" id="myFile" name="filename">
    <input type="submit">
  </form>

</body>

</html>
